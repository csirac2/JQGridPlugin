%META:TOPICINFO{author="ProjectContributor" comment="save topic" date="1290553816" format="1.1" reprev="3" version="3"}%
---+ %TOPIC%

%STARTSECTION{"summary"}%
jqGrid is an Ajax-enabled !JavaScript control that provides solutions for
representing and manipulating tabular data on the web. Since the grid is a
client-side solution loading data dynamically through Ajax callbacks, it can be
integrated with any server-side technology, including PHP, ASP, Java Servlets,
JSP, !ColdFusion, and Perl. For more read the [[%PUBURLPATH%/%SYSTEMWEB%/JQGridPlugin/jqgriddocs/][jqgriddocs]].
See also the [[http://www.trirand.com/jqgridwiki/doku.php?id=wiki:jqgriddocs][jqgrid wiki]] for up-to-date documentation.
%ENDSECTION{"summary"}%

---++ Source

Homepage: http://www.trirand.com/blog/ %BR%
Author(s): Tony Tomov %BR%
Version: 3.6.5

---++ Syntax
=%<nop>GRID{"&lt;query>" form="..." }%=

render a grid of topics matching the given query

| *Parameter* | *Description* | *Default* |
| =query= | search query | searching for topics that have the named =form= attached to it |
| =web= | web where o start the query | BASEWEB |
| =form= | !DataForm definition which describes the columns of the grid | |
| =columns= | name of columbns to display; these are the formfield names as specified in the !DataForm definition in the specified =form=; there is a list of special column names that are remapped to topic properties (see below) | all columns in the !DataForm |
| =include= | regluar expression columns/formfields must match to be included in the grid model | |
| =exclude= | regluar expression columns/formfields must NOT match to be included in the grid model | |
| =rows= | number of rows to display in the grid per page | 20 |
| =rownumbers= | toggle on/off displaying the row number in the first column of the grid | off |
| =filterbar= | toggle on/off displaying a filter input field at the top of each column to narrow down search results | off |
| =toolbar= | toggle on/off displaying a toolbar at the bottom of the grid; switch this on for pagination | off |
| =sort= | name of column to sort the grid initially | first column (excluding the optional row numbers) |
| =reverse= | toggle on/off reverse sorting order | off |
| =caption= | caption to be displayed at the top of the grid | |
| =pager= | toggle on/off the pager in the toolbar | off |
| =viewrecords= | toggle on/off computing the total number of records and pages as part of the pager | on |
| =height= | height of the grid; can be set as a number or =auto= | |
| =width= | width of the grid; if not set, the grid's width is the sum of the width of all column  | |
| =scroll= | when enabled the pager element is disabled; data is loaded dynamically while scrolling down the grid | off |
| =rowlist= | comma separated list of optional number of rows to select from in the grid interface | 5, 10, 20, 30, 40, 50, 100 |
| =colname_title= | (per column option) title of the column | field title as specified in the !DataForm |
| =colname_resizable= | (per column option) toggle on/off whether the width of the column can be changed by the user | on |
| =colname_align= | (per column option) alignment of the data in the cell | left |
| =colname_width= | (per column option) width of this column in pixel | |
| =colname_search= | (per column option) toggle on/off if this column is searchable or not | on |
| =id= | id of the grid | Any relevant name |
| =querytopic= | search query | A topic that jQGrid should use as the target of its ajax requests, instead of JQGridPlugin's rest handler. The topic should render an XML response appropriate for the URL parameters that jqGrid gives it (page, sort, columns, etc) |
| =sortable= | (per column option) sort column in ascending or descending order | on |
| =loadonce= | grid loads data from the server once, all other manipulations are done on the client side | on |
| =multiselect= | allows selection of multiple rows in the grid | on |
| =onSelectRow= | event handler triggered when a row is selected | |
| =onSelectAll= | event handler triggered when all rows selected at once | |
| =gridComplete= | event handler triggered when the grid is loaded | |
---++ Special columns

Normally, the data and the way it is displayed in a GRID is specified by the !DataForm definition the GRID expression points to.
However, there's a set of additional properties of a topic that can be displayed in a GRID. These are specified in the =columns=
parameter to %GRID and are mapped to the actual property as follows:

| *Colname* | *Data* | *Displayed* |
| Topic | topic name | link to topic |
| Modified, Changed | time when the topic has been changed recently | standard date format |
| By, Author | author of the last modification | link to author's homepage |
| Image, Photo | formfields of that name | displayed as html &lt;img&gt; tag where the data is used as src link ||
When [[Foswiki:Extensions/FlexFormPlugin][FlexFormPlugin]] is installed, each cell is rendered using
=%RENDERFORDISPLAY= expression.

When [[Foswiki:Extesions/ImagePlugin][ImagePlugin]] is installed, each Image/Photo cell is renderd using an
=%IMAGE= expression to render thumbnails.

%RED%
WARNING: This part is still in flux and solved rather adhoc for now.
The way how to specify which data is displayed in which way per column is still
subject to further changes.
%ENDCOLOR%

---++ Examples
%GRID{
  form="System.UserForm"
  web="%USERSWEB%"
  columns="Topic,FirstName,LastName,Organization,Country,Telephone"
  filterbar="on"
  rownumbers="on"
  Topic_title="Link to topic"
  width="auto"
  height="auto"
}%

---++ Installation Instructions

%$INSTALL_INSTRUCTIONS%

---++ Plugin Info
|  Author(s): | Michael Daum |
|  Copyright: | 2009-2010 Michael Daum http://michaeldaumconsulting.com |
|  License: | GPL |
|  Release: | %$RELEASE% |
|  Version: | %$VERSION% |
|  Change History: | <!-- versions below in reverse order --> |
|  06 Jan 2011: | 0.3.1: Foswikitask:Item10228 - add parameters to grid to make it customizable |
|  08 Sep 2010: | 0.3: upgraded to jqgrid-3.7.2; fixed vertical scrolling; fixed resizing of columns |
|  19 Nov 2010: | 0.2.1: Foswikitask:Item9564 - add dependency to help script load ordering |
|  26 May 2010: | 0.2: fixed loading locales; \
improved grid construction process; \
added field-specific options (title, resizable, align, width, search); \
ongoing work on colmodel |
|  26 Mar 2010: | initial release, externalized from Foswiki:Extensions/JQueryPlugin |
|  Dependencies: | %$DEPENDENCIES% |
|  Home: | Foswiki:Extensions/%TOPIC% |
|  Support: | Foswiki:Support/%TOPIC% |

